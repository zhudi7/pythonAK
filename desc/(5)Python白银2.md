## Python列表知识导航

> 1. 列表的创建
> 2. 访问列表元素
> 3. 遍历列表元素
> 4. 列表元素增删改操作
> 5. 列表元素排序
> 6. Python称之为切片
> 7. 列表推导式

## 1	列表的创建

1.1	为什么需要列表？

* 变量可以存储一个元素，而列表是一个“大容量”可以存储N多个元素，程序可以方便地对这些数据进行整体操作
* 列表就是相当于Java、Scala等其它语言的数组

1.2	列表的创建

* 列表需要使用中括号`[]`，之间使用英文的逗号进行分隔

> 列表创建：`s = []`
>
> 元组创建：`s = ()`
>
> 字符串创建：`s = 'python'`（其中双引号或三引号都可以）
>
> 字典创建：`s = {}`

两种创建方式：

```python
# 列表创建方式一
lst = ['hello','world',99]

# 列表创建方式二,使用内置函数
lst = list(['hello','world',99])
```

1.3	列表的特点：

* 列表元素是按顺序有序排序的
* 索引映射唯一个数据
* 列表可以存储重复数据
* 任意数据类型混存
* 根据需要动态分配和回收内存（存储数据不用担心列表大小，你尽管往里面放即可）

> 列表非常适合用于存储在程序运行期间可能变化的数据集。列表是可以修改的，这对处理网 站的用户列表或游戏中的角色列表至关重要。

## 2	访问列表元素

2.1	列表查询操作

* 获取列表中指定元素索引
  * 如列表存储N个相同元素，只返回相同元素中的第一个元素的索引
  * 如果查询的元素列表中不存在，则会抛出valueError
  * 还可以指定的start和stop之间进行查询

获取列表中的多个元素

语法格式：列表`[start:stop:step]`

当step为正数

* 切片的第一个数默认是列表第一个元素
* 切片的最后一个元素默认是列表的最后一个元素

```python
# 列表创建方式一
lst = [10,20,30,40,50,60,70,80]
# 切片的结果-原列表片段的拷贝
# 切片的范围-[start,stop)左闭右开
print(lst[1:6:1]) # start=1,stop=6,step=1

# 省略step
print(lst[1:6]) # 默认step为1

# start=1,stop=6,step=2
print(lst[1:6:2])

# 省略start
print(lst[:6:2])
```

结果：

```python
[20, 30, 40, 50, 60]
[20, 30, 40, 50, 60]
[20, 40, 60]
[10, 30, 50]
```

当step为负数

* 切片的第一个数默认是列表的最后一个元素
* 切片的最后一个元素默认是列表的第一个元素

> 注意：索引从 0 而不是 1 开始

## 3	列表元素增删改操作

4.1	添加元素

（1）append()方法：向列表的末尾添加一个元素

```python
# 向列表的末尾添加一个元素
lst = [10,20,30,40,50,60,70,80]
print('添加元素之前：',lst,id(lst))
lst.append(1000)
print('添加元素之后',lst,id(lst))
运行结果：
添加元素之前： [10, 20, 30, 40, 50, 60, 70, 80] 4340085216
添加元素之后 [10, 20, 30, 40, 50, 60, 70, 80, 1000] 4340085216
```

（2）extend()方法：在列表的末尾至少添加一个元素

```python
lst = [10,20,30,40,50,60,70,80]
print(lst)
lst2 = ['hello','world']
lst.append(lst2) # 这种方法将lst作为一个元素添加到列表的末尾
#lst.extend(lst2)
print(lst)
运行结果：
[10, 20, 30, 40, 50, 60, 70, 80, ['hello', 'world'], 'hello', 'world']

lst.extend(lst2)# 方式添加
[10, 20, 30, 40, 50, 60, 70, 80, 'hello', 'world']
```

（3）inset()方法：在列表的任意位置添加一个元素

```python
# 任意位置添加
lst.insert(1,111)
print(lst)
运行结果：
[10, 111, 20, 30, 40, 50, 60, 70, 80]
```

（4）在列表的任意位置添加至少一个元素（切片）

```python
lst3 = ['python','Java']
lst[1:] = lst3
print(lst)
运行结果：
[10, 'python', 'Java']
```

4.2	元素删除

（1）remove方法：一次只删除一个元素，重复元素只删除一个，元素不在抛出valueError

```python
lst = [10,20,30,40,50,60,20]
lst.remove(20)
print(lst)
运行结果：
[10, 30, 40, 50, 60, 20]
```

（2）pop方法：删除一个指定的索引位置上的元素，指定索引不存在抛出IndexError，如果不指定索引，删除列表中最后一个元素

```python
lst = [10,20,30,40,50,60,20]
lst.pop(1)
print(lst)
运行结果：
[10, 30, 40, 50, 60, 20]
```

（3）切片：一次至少删除一个元素

```python
lst = [10,20,30,40,50,60,20]
new_lst = lst[1:5:2]
print(new_lst)
运行结果：
[20, 40]
```

（4）clear方法：清空列表

```python
lst = [10,20,30,40,50,60,20]
lst.clear()
print(lst)
运行结果：
[]
```

（5）del：删除列表

4.3	元素修改

（1）为指定索引的元素赋值一个新值

```python
lst = [10,20,30,40,50,60,20]
lst[1] = 100
print(lst)
运行结果：
[10, 100, 30, 40, 50, 60, 20]
```

（2）为指定的切片赋予一个新值

```python
# 切片
lst[1:3] = [200,300,400]
print(lst)
运行结果：
[10, 200, 300, 400, 40, 50, 60, 20]
```

## 4	列表元素排序

（1）调用sort()方法：列表中的所有元素默认按照从小到大顺序进行排序，可以指定reverse=true，进行降序排序

```python
lst = [10,50,40,60,20,30,]
print('排序前列表:',lst)
lst.sort()
print('排序后列表:',lst)
运行结果：
排序前列表: [10, 50, 40, 60, 20, 30]
排序后列表: [10, 20, 30, 40, 50, 60]
```

指定reverse=true，进行降序排序

```python
lst = [10,50,40,60,20,30,]
lst.sort(reverse=True)
print(lst)
运行结果：
[60, 50, 40, 30, 20, 10]
```

（2）调用内置函数sorted()，可以指定reverse=true，进行降序排序，原列表不发生改变

```python
lst2 = [7,5,6,4,2,3,1]
new_lst2 = sorted(lst2)
print(new_lst2)
```

指定reverse=true，进行降序排序

```python
desc_lst2 = sorted(lst2,reverse=True)
print(desc_lst2)
```

运行结果：

```python
[60, 50, 40, 30, 20, 10]
[1, 2, 3, 4, 5, 6, 7]
[7, 6, 5, 4, 3, 2, 1]
```

## 5	遍历列表元素

3.1	如何判断指定元素是否在列表中

```python
lst = [10,20,30,40,50,60,70,80]
print('===判断指定元素是否在列表中====')
print(10 in lst) # 表示10在这个列表中存在吗？True
print(100 in lst) # 表示100在这个列表中存在吗？False
print(10 not in lst) # 表示10在列表中不存在，False
print(100 not in lst) # 表示100在列表中不存在，True
```

3.2	如何使用for-in遍历列表中元素？

```python
lst = [10,20,30,40,50,60,70,80]
for item in lst:
    print(item)
```

### 5.1 	深入地研究循环

循环这种概念很重要，因为它是让计算机自动完成重复工作的常见方式之一。

## 6	Python称之为切片

在前面我们已经学习如何处理列表的所 有元素。但是还可以处理列表的部分元素——Python称之为切片。

要创建切片，可指定要使用的第一个元素和最后一个元素的索引。与函数range()一样，Python 在到达你指定的第二个索引前面的元素后停止。要输出列表中的前三个元素，需要指定索引0~3， 这将输出分别为0、1和2的元素。

栗子：使用切片输出前三个元素

```python
players = ['charles', 'martina', 'michael', 'florence', 'eli']
print(players[1:4]) # 表示从1开始，切片是一个左开右闭的这样一个期间[1,4)],所以右边4不能取
```

运行结果：

```python
['martina', 'michael', 'florence']
```

栗子：遍历切片，使用for循环将前三个元素输出

```python
players = ['charles', 'martina', 'michael', 'florence', 'eli']
for item in players[:3]:
    print(item, end=' ')
```

运行结果：

```python
charles martina michael 
```

栗子：复制列表

假设有一个列表，其中包含你最喜欢的四种食品，而你还想创建另一个列表，在其中 包含一位朋友喜欢的所有食品。不过，你喜欢的食品，这位朋友都喜欢，因此你可以通过复制来 创建这个列表：

```python
my_foods = ['苹果', '香蕉', '🍇','西瓜','核桃']
friend_foods = my_foods[1:]
print(my_foods)
print(friend_foods)
```

运行结果：

```python
['苹果', '香蕉', '🍇', '西瓜', '核桃']
['香蕉', '🍇', '西瓜', '核桃']
```

## 7	列表推导式

列表生成式简称“生成列表的公式”

语法格式：

```python
[i*i for i in range(1,10)]
#i*i表示列表元素的表达式
#for i in的i自定义变量
#range(1,10)可迭代对象
```

栗子：将打印列表1-10，且列表的每一个乘以2

```python
lst = [i*2 for i in range(1,11)]
print(lst)
```

运行结果：

```python
[2, 4, 6, 8, 10, 12, 14, 16, 18, 20]
```

总结

![image-20201005203038656](/Users/dimitri/Library/Application Support/typora-user-images/image-20201005203038656.png)